(this["webpackJsonpasgard-scan"]=this["webpackJsonpasgard-scan"]||[]).push([[0],{43:function(e,t,s){},44:function(e,t,s){},45:function(e,t,s){},65:function(e,t,s){},66:function(e,t,s){},67:function(e,t,s){},76:function(e,t,s){},77:function(e,t,s){},78:function(e,t,s){},88:function(e,t,s){},89:function(e,t,s){},90:function(e,t,s){"use strict";s.r(t);var n=s(1),a=s.n(n),i=s(22),c=s.n(i),o=(s(43),s(44),s(17)),r=s(2),l=(s(45),s(0));function d(){return Object(l.jsx)(l.Fragment,{})}var u=s(11),m=s(12),h=s(14),p=s(13),j=s(91),g=s.p+"static/media/add-product.43f9f9ce.svg",b=s(10),v=s.n(b),O="http://localhost:3000/",f=function(e){return v.a.post("/users/login",e)},_=function(e){return v.a.post("/users/signup",e)},y=function(e,t){return v.a.patch("/users/".concat(e),t)},x=function(e,t){return v.a.patch("/users/sensitive/".concat(e),t)},N=function(e){return v.a.delete("/users/sensitive/".concat(e))};s(65);function S(e){var t=e.addProductNoSensitivity,s=e.products;return Object(l.jsx)("div",{className:"cardNotSensitive",children:s.map((function(e){return Object(l.jsxs)("div",{className:"cardNotSensitive__content",children:[Object(l.jsx)("img",{alt:e.productName,className:"cardNotSensitive__image",variant:"top",src:"".concat(O).concat(e.image)}),Object(l.jsx)("img",{onClick:function(s){return t(s,e)},className:"cardNotSensitive__button",src:g,alt:"add a yes product"}),Object(l.jsx)("div",{className:"cardNotSensitive__body",children:Object(l.jsxs)("h2",{className:"cardNotSensitive__heading",children:[Object(l.jsx)("strong",{children:e.brandName})," ",Object(l.jsx)("br",{})," ",e.productName," "]})})]},Object(j.a)())}))})}var I=s.p+"static/media/see-more.e20af0bd.svg";s(66);function C(e){var t=e.addProductSensitivity,s=e.products,n=e.toggleModal;return Object(l.jsx)("div",{className:"cardSensitive",children:s.map((function(e){return Object(l.jsxs)("div",{className:"cardSensitive__content",children:[Object(l.jsx)("img",{alt:e.productName,className:"cardSensitive__image",variant:"top",src:"".concat(O).concat(e.image)}),Object(l.jsx)("img",{onClick:function(){return t(e)},className:"cardSensitive__button",src:g,alt:"add a yes product"}),Object(l.jsxs)("div",{className:"cardSensitive__body",children:[Object(l.jsxs)("h2",{className:"cardSensitive__heading",children:[Object(l.jsx)("strong",{children:e.brandName})," ",Object(l.jsx)("br",{})," ",e.productName," "]}),Object(l.jsx)("div",{onClick:function(){return n(e)},className:"cardSensitive__delete",src:I,alt:"delete this product form your Yes Sensitivity list",children:"Remove Item"})]})]},Object(j.a)())}))})}s(67);var k=s.p+"static/media/no-sensitivity.d0f2a1a5.svg",w=function(e){Object(h.a)(s,e);var t=Object(p.a)(s);function s(){var e;Object(u.a)(this,s);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={isActive:!1},e.handleToggle=function(){e.setState({isActive:!e.state.isActive})},e}return Object(m.a)(s,[{key:"render",value:function(){var e=this.state.isActive;return this.props.displayProducts&&Object(l.jsxs)("div",{className:"product-list",children:[Object(l.jsx)("button",{onClick:this.handleToggle,alt:"see more products link",className:"product-list__btn-grad",children:"DISCOVER PRODUCTS"}),Object(l.jsxs)("div",{className:e?"collasible--expand":"collasible",children:[Object(l.jsx)("p",{className:"product-list__copy",children:"We've curated some products that don't contain any of the ingredients you are sensitive to!"}),this.props.displayProducts.map((function(e){return Object(l.jsxs)("div",{className:"product-list__content",children:[Object(l.jsx)("div",{className:"product-list__item",children:Object(l.jsxs)(o.b,{className:"product-list__link",to:"/products/".concat(e.id),children:[" ",Object(l.jsx)("img",{className:"product-list__image",src:"".concat(O).concat(e.image),alt:e.productName}),Object(l.jsx)("h4",{className:"product-list__data",children:e.productName}),Object(l.jsx)("p",{className:"product-list__label",children:e.brandName})]})}),Object(l.jsx)("img",{src:k,alt:"sensitive icon",className:"product-list__icon"})]},Object(j.a)())}))]})]})}}]),s}(n.Component),D=(s.p,s.p+"static/media/alert-icon.7f5efd65.svg");s(76);function A(e){var t=e.sensitiveToIngredients;return t&&Object(l.jsxs)("header",{className:"header",children:[Object(l.jsx)("h1",{className:"header__heading",children:"WE THINK YOU MAY HAVE SENSITIVITIES TO:"}),Object(l.jsx)("h3",{className:"header__subheading",children:"HIGH LIKELIHOOD"}),t.map((function(e){return Object(l.jsxs)("section",{className:"header__likelyhood",children:[Object(l.jsx)("p",{className:"header__ingredients",children:e}),Object(l.jsx)("img",{className:"header__alert-icon",alt:"sensitive to icon",src:D})]},Object(j.a)())}))]})}s(77);function T(){return Object(l.jsx)("footer",{className:"footer",children:Object(l.jsx)("p",{className:"footer__reserved",children:"\xa9 2021 ASGARD BEAUTY. ALL RIGHTS RESERVED."})})}s(78);var U=s(25),P=s.n(U);P.a.setAppElement("#root");var L=function(e){Object(h.a)(s,e);var t=Object(p.a)(s);function s(){var e;Object(u.a)(this,s);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={userID:null,username:e.props.username,token:null,products:null,displayProducts:null,noSensitivity:null,yesSensitivity:null,currentUser:null,sensitiveToIngredients:null,item:null,ingredientSearch:[],isActive:!1,deletedItem:[],modal:!1},e.closeModal=function(){return e.setState({modal:!1})},e.toggleModal=function(t){e.setState({modal:!e.state.modal,deletedItem:t})},e.deleteItem=function(){var t=e.state.yesSensitivity.find((function(t){return t.productName===e.state.deletedItem.productName}));console.log(t.id),N(t.id).then((function(e){console.log(e.data),200===e.status&&console.log("The Response status was 200!")})).catch((function(e){console.log(e)}))},e.deleteItemFunc=function(){e.closeModal(),e.deleteItem()},e.getSensitivityIngredients=function(t){var s=t.noSensitivity.map((function(e){return e.ingredients.toLowerCase()})).toString().split(","),n=t.yesSensitivity.map((function(e){return e.ingredients.toLowerCase()})).toString().split(",").filter((function(e){return!s.includes(e)}));e.setState({sensitiveToIngredients:n})},e.upDateNotSesitiveTo=function(t){var s=e.state.noSensitivity.map((function(e){return e.ingredients.toLowerCase()})).toString().split(","),n=e.state.yesSensitivity.map((function(e){return e.ingredients.toLowerCase()})).toString().split(",").filter((function(e){return!s.includes(e)}));e.setState({sensitiveToIngredients:n})},e.addProductSensitivity=function(t){e.setState({item:t,isActive:!e.state.isActive}),console.log("I'm sensitive to this product:",t),x(e.state.username,t).then((function(t){var s=e.state.yesSensitivity;200===t.status&&(e.state.yesSensitivity.find((function(e){return e.id===t.data.id}))||(s.push(t.data),console.log(s),e.setState({yesSensitivity:s}),e.upDateNotSesitiveTo()))})).catch((function(e){console.log("product did not add",e)})),console.log(e.state.yesSensitivity)},e.addProductNoSensitivity=function(t,s){t.preventDefault(),console.log(t),console.log("I'm not sensitive to this product:",s),y(e.state.username,s).then((function(t){var s=e.state.noSensitivity;200===t.status&&(e.state.noSensitivity.find((function(e){return e.id===t.data.id}))||(s.push(t.data),e.setState({noSensitivity:s}),e.upDateNotSesitiveTo()))})).catch((function(e){console.log("product did not add",e)}))},e.handleOnChange=function(t){t.preventDefault(),console.log(t.target.value);var s=t.target.value.toLowerCase();console.log(s);var n=s.split(",");console.log(s),console.log(n),e.setState({displayProducts:e.state.products.filter((function(e){return!e.ingredients.toLowerCase().includes(s)}))}),console.log(e.state.displayProducts)},e.logout=function(){sessionStorage.removeItem("token"),sessionStorage.removeItem("username"),e.props.history.push("/login"),console.log(e.props.history)},e}return Object(m.a)(s,[{key:"componentDidMount",value:function(){var e=this,t=sessionStorage.getItem("username");console.log(t),this.setState({token:sessionStorage.getItem("token")}),v.a.get("/products").then((function(s){return e.setState({products:s.data}),function(e,t){return v.a.get("/users/".concat(e),{headers:{Authorization:"Bearer ".concat(t)}})}(t)})).then((function(t){console.log(t.data);var s=t.data;e.setState({userID:s.id,username:s.username,yesSensitivity:s.yesSensitivity,noSensitivity:s.noSensitivity}),e.getSensitivityIngredients(s)})).catch((function(e){console.log("error in componentDIdMount",e)}))}},{key:"render",value:function(){return this.state.products&&Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(A,{sensitiveToIngredients:this.state.sensitiveToIngredients}),Object(l.jsxs)("main",{className:"main",children:[Object(l.jsx)("h2",{className:"main__heading",children:"Already know what you're sensitive to?"}),Object(l.jsxs)("div",{className:"main__search",children:[Object(l.jsxs)("label",{className:"main__copy",children:[" ","Type in the ingredient names that you're sensitive to seperated by a comma and click on ",Object(l.jsx)("em",{children:"see more"})," to find out which products don't contain them!",Object(l.jsx)("input",{className:"main__search--input",type:"text",placeholder:"Lauryl Laurate, Tocopheryl Acetate,...",onChange:this.handleOnChange})]}),Object(l.jsx)(w,{displayProducts:this.state.displayProducts}),Object(l.jsx)("h2",{className:"main__heading",children:"AM I SENSITIVE?"}),Object(l.jsx)("p",{className:"main__copy",children:"Add at least one product that you have used and do NOT have sensitivity towards"}),Object(l.jsx)(S,{products:this.state.products,addProductNoSensitivity:this.addProductNoSensitivity,isActive:this.state.isActive}),Object(l.jsxs)("p",{className:"main__copy",children:[" ","Add products that you've had a negative reaction to below"]}),Object(l.jsx)(C,{addProductSensitivity:this.addProductSensitivity,isActive:this.state.isActive,products:this.state.products,toggleModal:this.toggleModal})]}),Object(l.jsxs)(P.a,{isOpen:!0===this.state.modal,className:"modal__modal",overlayClassName:"modal__overlay",transparent:!0,children:[Object(l.jsxs)("div",{className:"modal__modal-top",children:[Object(l.jsxs)("h1",{className:"modal__modal-item",children:["Delete ",this.state.deletedItem.productName," from your sensitive list?"]}),Object(l.jsx)("img",{onClick:this.closeModal,className:"modal__modal-close",src:D,alt:"Close Icon"})]}),Object(l.jsxs)("div",{children:[Object(l.jsxs)("p",{className:"modal__modal-description",children:["Please confirm that you'd like to delete"," ",this.state.deletedItem.productName," from your Sensitive To list."]}),Object(l.jsx)("img",{className:"modal__modal-image",src:this.state.deletedItem.image,alt:"delete item from your yes sensitivity list"})]}),Object(l.jsxs)("div",{className:"modal__modal-buttons",children:[Object(l.jsx)("button",{onClick:this.closeModal,className:"modal__modal-cancel",children:"Cancel"}),Object(l.jsx)("button",{onClick:this.deleteItemFunc,className:"modal__modal-confirm",children:"Delete"})]})]}),Object(l.jsx)("button",{className:"main__btn-grad",type:"button",onClick:this.logout,children:"Log out"})]}),Object(l.jsx)(T,{})]})}}]),s}(n.Component),E=s(16),M=s(8),F=s.p+"static/media/instagram_profile_logo_01.png.4e40b61b.jpg",R=s.p+"static/media/button.708a115d.svg",H=(s(88),function(e){Object(h.a)(s,e);var t=Object(p.a)(s);function s(){var e;Object(u.a)(this,s);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={formData:null},e.handleChange=function(t){e.setState({formData:Object(M.a)(Object(M.a)({},e.state.formData),{},Object(E.a)({},t.target.name,t.target.value))})},e.handleSubmit=function(t){t.preventDefault(),f(e.state.formData).then((function(s){sessionStorage.setItem("token",s.data);sessionStorage.setItem("username",t.target.username.value);e.props.history.push("/asgardscan")})).catch((function(e){return alert("Invalid Credentials",e)}))},e.showSignUp=function(){e.props.history.push("/signup")},e}return Object(m.a)(s,[{key:"componentWillUnmount",value:function(){this.setState=function(e,t){}}},{key:"render",value:function(){return Object(l.jsxs)("div",{className:"login",children:[Object(l.jsx)("img",{className:"login__logo",src:F,alt:"asgard beauty logo"}),Object(l.jsx)("h1",{className:"login__heading",children:"Knock Knock. Who's There?"}),Object(l.jsxs)("form",{className:"login__form",onSubmit:this.handleSubmit,children:[Object(l.jsx)("input",{className:"login__input-top",type:"username",name:"username",placeholder:"username",onChange:this.handleChange}),Object(l.jsx)("input",{className:"login__input-bottom",type:"password",name:"password",placeholder:"password",onChange:this.handleChange}),Object(l.jsx)("input",{src:R,className:"login__button",type:"image",alt:"login button"}),Object(l.jsx)("div",{className:"login__signUp-link",type:"button",onClick:this.showSignUp,children:"SIGN UP"})]}),Object(l.jsxs)("p",{className:"login__disclaimer",children:[" ","Disclaimer. This app was created not as a medical guide but as a helpful tool to catalogue products. For medical advice, you should always consult a doctor."]})]})}}]),s}(n.Component)),V=(s(89),function(e){Object(h.a)(s,e);var t=Object(p.a)(s);function s(){var e;Object(u.a)(this,s);for(var n=arguments.length,a=new Array(n),i=0;i<n;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={formData:null},e.handleChange=function(t){e.setState({formData:Object(M.a)(Object(M.a)({},e.state.formData),{},Object(E.a)({},t.target.name,t.target.value))})},e.handleSubmit=function(t){t.preventDefault(),_(e.state.formData).then((function(t){e.props.history.push("/login")})).catch((function(e){return alert(e,"signup was unsuccessful")}))},e.showLogin=function(){e.props.history.push("/login")},e}return Object(m.a)(s,[{key:"render",value:function(){return console.log(this.state.formData),Object(l.jsxs)("div",{className:"signUp",children:[Object(l.jsx)("img",{className:"signUp__logo",src:F,alt:"asgard beauty logo"}),Object(l.jsx)("h1",{className:"signUp__heading",children:"Sign-Up and find out what your skin is sensitive to."}),Object(l.jsxs)("form",{className:"signUp__form",onSubmit:this.handleSubmit,children:[Object(l.jsx)("label",{className:"signUp__label",children:"Username"}),Object(l.jsx)("input",{className:"signUp__input",type:"text",name:"username",placeholder:"freya_o",onChange:this.handleChange}),Object(l.jsx)("label",{className:"signUp__label",children:"First Name"}),Object(l.jsx)("input",{className:"signUp__input",type:"text",name:"firstName",placeholder:"Freya",onChange:this.handleChange}),Object(l.jsx)("label",{className:"signUp__label",children:"Last Name"}),Object(l.jsx)("input",{className:"signUp__input",type:"text",placeholder:"\xd8stevik",name:"lastName",onChange:this.handleChange}),Object(l.jsx)("label",{className:"signUp__label",children:"Email"}),Object(l.jsx)("input",{className:"signUp__input",type:"email",name:"email",placeholder:"freya.o@gmail.com",onChange:this.handleChange}),Object(l.jsx)("label",{className:"signUp__label",children:"Password"}),Object(l.jsx)("input",{className:"signUp__input",type:"password",name:"password",placeholder:"minimum 8 characters",onChange:this.handleChange}),Object(l.jsxs)("div",{className:"signUp__buttons",children:[Object(l.jsx)("button",{className:"signUp__btn-grad ",type:"submit",children:"Sign up"}),Object(l.jsx)("button",{className:"signUp__btn-grad ",type:"button",onClick:this.showLogin,children:"Log in"})]})]})]})}}]),s}(a.a.Component)),B=s(38),G=["component"],K=function(e){e.component;var t=Object(B.a)(e,G),s=sessionStorage.getItem("token");return Object(l.jsx)(r.b,Object(M.a)(Object(M.a)({},t),{},{render:function(e){return s?Object(l.jsx)(L,Object(M.a)({},e)):Object(l.jsx)(r.a,{to:"/login"})}}))};var W=function(){return Object(l.jsx)("div",{className:"App",children:Object(l.jsxs)(o.a,{children:[Object(l.jsx)(d,{}),Object(l.jsxs)(r.d,{children:[Object(l.jsx)(r.b,{path:"/asgardscan/:userID",exact:!0,component:S}),Object(l.jsx)(r.b,{path:"/asgardscan/:userID",exact:!0,component:C}),Object(l.jsx)(r.b,{path:"/login",exact:!0,component:H}),Object(l.jsx)(r.b,{path:"/signup",exact:!0,component:V}),Object(l.jsx)(K,{to:"/",exact:!0,component:L}),Object(l.jsx)(K,{to:"/asgardscan",exact:!0,component:L})]})]})})},Y=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,92)).then((function(t){var s=t.getCLS,n=t.getFID,a=t.getFCP,i=t.getLCP,c=t.getTTFB;s(e),n(e),a(e),i(e),c(e)}))};c.a.render(Object(l.jsx)(a.a.StrictMode,{children:Object(l.jsx)(W,{})}),document.getElementById("root")),Y()}},[[90,1,2]]]);
//# sourceMappingURL=main.9ffc278a.chunk.js.map